
<html>
<head>
  <meta charset="utf-8">
  <title>3rdwind Tech</title>
  <base href="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script>
    let delimiter= "â™½";
    let cursorX;
    let cursorY;
    const agency = "NASA";

    document.onmousedown = function(e){
        cursorX = e.pageX;
        cursorY = e.pageY;
        sessionStorage.setItem("cursorLocation", cursorX+"px|" + cursorY+"px");
    }


    function selectIdFromClass(id, className="", classAction=''){
      if(className==="") className = id.split("---")[0] + "Group";
      const flip = true;
      if(classAction===""){
        classAction = "hidden";
        flip = false;
      };
      const group = document.querySelectorAll("." + className);
      for(let x=0; x<group.length; x++) {
        group[x].classList[ flip ? "remove" : "add"](classAction);
      }
      document.querySelector("#" + id).classList[ flip ? "add" : "remove"](classAction);
    }

    function submitFilter(itself){
          const id=  itself.id.split("---")
          const btn = document.querySelector("#submitNow" +  id[0] );
          selectIdFromClass(itself.id, "",  "selected-orbit");
          btn.role = id[1].split(delimiter)[0];
          submitChatMessage(itself, "You chose<div class='my-0 p-0 font-bold brightness-[120]'>" + btn.role + " API</div>" + (btn.role!=="IPS"?"":"|You may opt to choose a certain <u class='text-lg text-stone-700'>Location/Catalog</u>." ));
          if(btn.role.indexOf("IPS")>=0){
            document.querySelector("#extraFilter").classList.remove("hidden");
            return
          }
          try {
              document.querySelector("#extraFilter").classList.add("hidden");
            }
          catch(err){};
              btn.classList.remove("muted");
              btn.classList.add("unmuted");
    }


    function submitChatMessage(itself, chatMessage=""){
      const parm = itself.id.split("---");
      const xxx = `#${parm[0]}sectionTab`.replace("__", "_").replace("submitNow","");
      sessionStorage.setItem("CHATTER", chatMessage)
      const btn = document.querySelector(xxx).click();
    }

    function unlock(){
      sessionStorage.setItem("OuterSpaceSession", "agency" +"|||"  + "proxy" + "|||" + "baggage" + "|||" + "classNameID[1]" );
      const btn = document.querySelector('#dummyButton').click();
    }

    function isBoth(left, right){
      let result = isOK(left) && isOK(right);
      if(!result) { Qvalues[left] = ""; Qvalues[right]="" }
      return result?"anything=anything":"";

    }

    function isOK(number)  {
      return  _q[number]!=="";
    }

    function Xor(left, right){
      if(isOK(left)) {
        Qvalues[right]="";
        return left;
      }
      if(isOK(right)) {
        Qvalues[left]="";
        return right;
      }
      return "";
    }

    function _q(number){
      const q = Qvalues[number]
      if(Qvalues[number]==="") return "";
      return Qvalues[number].split("=")[1];
    }

    let Qvalues=[]

    function popUp(mediaRef){
      fetch(mediaRef)
      .then(response => response.json())
      .then(data => {
        const proxy = document.querySelector('#proxy');
        proxy.dataset.action="1";
        proxy.dataset.attach = data;
        proxy.click();
      })
      .catch(error => {
        console.error('Error fetching resource:', error);
      });
  };




    function fetchOne(itself){
        const ID =  "#"+  itself.id.replace("fetch","entry");
        let baggage = itself.dataset.url.replace("{q}", document.querySelector(ID).value);
        sessionStorage.setItem("OuterSpaceSession", agency +"|||"  + "post" + "|||" + baggage + "|||"  );
        document.querySelector('#proxy').click();

    }

    function interactiveInput(itself){
      alert(itself.value);
    }

    function fetchData(itself, isPrep = 0){
      if(isPrep==1){
            document.querySelector(".filter-container").classList.remove("hidden");
            const elements = document.querySelectorAll(".orbit-launcher")
            elements.forEach(element=> { element.classList.remove("selected-orbit");})
            document.querySelector("#"+ itself.id).classList.add("selected-orbit");
            const title = "#" + itself.title.replace("fetch", "");
            document.querySelector(title +  "Condition").innerHTML = itself.innerHTML;
            const option =  title  + "Options";
            if(itself.innerHTML.includes("IPS"))
                    document.querySelector(option)?.classList.remove("hidden");
                      else
                    document.querySelector(option)?.classList.add("hidden");
            document.querySelector(title+ "-submit").dataset.url = itself.dataset.url;
            return
      }
            const classNameID = itself.id.replace("fetch","").split("-");
            const entries =document.querySelectorAll("." + classNameID[0]);
            let queryString = ""
                  Qvalues =[]
                  for(let x=0; x<entries.length; x++){
                    let value = entries[x].value;
                    if (value!=="demo_key")
                    {
                      if(entries[x].type ==="checkbox") value = entries[x].checked;
                      Qvalues.push( entries[x].title + "=" + value );
                    }
                  }
                  if(itself.dataset.restriction!=="") eval(itself.dataset.restriction);
                  for(let x=0; x<Qvalues.length; x++ ){
                    q = Qvalues[x].trim();
                    if(q.split("=")[1]!="") queryString += "&" + q;
                  }
            const action = "fireWhenReady";
            let baggage = queryString.substring(1);

            if (isPrep===2) baggage = itself.dataset.url + "?" + baggage
            if(isPrep===0)
            {
              const ds= itself.dataset.baseapi;
              if(baggage.includes("steroid")) baggage = ds + baggage.split("=")[1];
              else baggage = ds + "?" + baggage;
            }

            const obj = {};
            obj.serverAgency = agency;
            obj.serverMethod = "post";
            obj.serverPayload = baggage ;
            obj.serverSesame = "";
            return _PopUpRef(baggage +  "&api_key=DEMO_KEY", event);
         //  return _globalFetchData(obj);
    }


    function submitNow(itself, chatMessage=""){
      const parm = itself.id.split("---");
      const xxx = `#${parm[0]}sectionTab`.replace("__", "_").replace("submitNow","");
      sessionStorage.setItem("ATTACHMENT", itself.role)
      alert(xxx)
      const btn = document.querySelector(xxx).click();
    }

    function searchFilter(itself){
              let filterString = itself.title //"&filter="
              // alert(filterString);
              // const opr = "eq";
              // let filterCount=0;
              // const rnd = "_" + parm.id.replace("field","");
              // const elements:  any = document.querySelectorAll("." + parm.id);
              // for(let x=0; x<elements.length; x++){
              //   const idField = elements[x].id.replace(rnd,"");
              //   const value= elements[x]!.value;
              //   if(value!=undefined && value!="") {
              //     filterString += (filterCount===0 ? "": ",") +  idField + ":" + opr + ":" + value ;
              //     filterCount++
              //   }
              // }
              alert(filterString);
            }


    function showOpr(parm){
      document.querySelector("#" + parm).classList.remove("disabled");
      document.querySelector("#" + parm).classList.add("cursor-pointer");
    }
    </script>




</head>
<body>
  <app-root></app-root>
</body>
</html>








